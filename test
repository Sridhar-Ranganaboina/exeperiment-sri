describe("saveInitialFormData", () => {
    let mockFormElement;

    beforeEach(() => {
        // Set up a mock form element
        mockFormElement = `<form id="testFormDialog">
            <input type="text" name="field1" value="value1" />
            <input type="text" name="field2" value="value2" />
        </form>`;
        
        // Add the form element to the DOM
        document.body.innerHTML = mockFormElement;
    });

    afterEach(() => {
        // Clean up after each test
        document.body.innerHTML = '';
    });

    it("should save the initial form data", () => {
        // Mock jQuery serializeArray method to test the function
        jest.spyOn($.fn, "serializeArray").mockImplementation(() => [
            { name: "field1", value: "value1" },
            { name: "field2", value: "value2" }
        ]);

        // Call the function being tested
        saveInitialFormData();

        // Check if the initial form data was saved correctly
        expect(initialFormData).toEqual({
            field1: "value1",
            field2: "value2"
        });

        // Check if the hasUnsavedChanges flag is reset to false
        expect(hasUnsavedChanges).toBe(false);
    });
});
